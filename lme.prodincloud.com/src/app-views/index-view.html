<html><head></head><body><div hidden="" by-polymer-bundler=""><script>Polymer({is:"iron-a11y-keys",behaviors:[Polymer.IronA11yKeysBehavior],properties:{target:{type:Object,observer:"_targetChanged"},keys:{type:String,reflectToAttribute:!0,observer:"_keysChanged"}},attached:function(){this.target||(this.target=this.parentNode)},_targetChanged:function(e){this.keyEventTarget=e},_keysChanged:function(){this.removeOwnKeyBindings(),this.addOwnKeyBinding(this.keys,"_fireKeysPressed")},_fireKeysPressed:function(e){this.fire("keys-pressed",e.detail,{})}});</script><dom-module id="bbx-dashboard-widget-selector" assetpath="../../bower_components/bbx-dashboard/"><template><style include="iron-flex iron-flex-alignment">:host{visibility:hidden;opacity:0;position:absolute;top:0;left:0;right:0;z-index:199;transition:all 360ms;@apply (bbx-dashboard-widget-selector);}paper-material{background:#fff;padding:20px 10px 20px 10px}iron-icon{margin-right:10px}vaadin-combo-box{margin-top:-40px;margin-right:10px}</style><iron-a11y-keys target="[[_target]]" keys="esc" on-keys-pressed="close"></iron-a11y-keys><paper-material id="dialog" elevation="3"><div class="layout horizontal center"><div><iron-icon icon="device:widgets"></iron-icon></div><div class="flex"><vaadin-combo-box id="box" items="{{_model}}" item-label-path="label" item-label-value="type" on-selected-item-changed="_onValueChanged"><template><div class="layout horizontal"><div><template is="dom-if" if="{{item.icon}}" restamp=""><iron-icon icon="{{item.icon}}"></iron-icon></template><template is="dom-if" if="{{!item.icon}}" restamp=""><iron-icon icon="device:widgets"></iron-icon></template></div><div class="flex"><div class="layout vertical"><div>{{item.label}}</div><div><i style="color:#ccc">{{item.desc}}</i></div></div></div><div></div></div></template></vaadin-combo-box></div><div><paper-icon-button icon="icons:close" on-tap="close"></paper-icon-button></div></div></paper-material></template><script>Polymer({is:"bbx-dashboard-widget-selector",properties:{model:{type:Object,value:{}},language:String,_model:{type:Array,value:[]}},observers:["updateModel(model,model.*)","updateModel(language)"],ready:function(){this._target=this},open:function(){this.style.visibility="visible",this.style.opacity="1",this.async(function(){this.$.box.focus()}.bind(this),360)},close:function(){this.style.visibility="hidden",this.style.opacity="0"},_onValueChanged:function(e){if(!e.detail.value)return!1;this.fire("widget-selected",e.detail.value),this.$.box.value=null},updateModel:function(){var e,i=[];for(var t in this.model)(e=this.model[t]).name=t,e.label=BBX.Dashboard.CommonBehaviorImpl.findTranslation("label",e,this.language),e.desc=BBX.Dashboard.CommonBehaviorImpl.findTranslation("desc",e,this.language),i.push(e);this.set("_model",i)}});</script></dom-module><dom-module id="bbx-dashboard-style" assetpath="../../bower_components/bbx-dashboard/"><template><style>:host{display:block;position:relative;min-height:100px;width:100%;padding:10px;transition:width 360ms;box-sizing:border-box}:host .toolbar{position:absolute;cursor:pointer;background:var(--primary-color);color:#fff;transition:all 360ms;backface-visibility:hidden;z-index:50;transform:scale(1.2);transition:all 360ms;backface-visibility:hidden;visibility:hidden;opacity:0}:host .component{min-height:100px;transition:all 360ms;box-sizing:border-box}:host([edit-mode]:hover) .toolbar{border:1px dashed var(--primary-color);transform:scale(1);visibility:visible;opacity:1}:host([edit-mode]:hover) .component{opacity:1}</style></template></dom-module><dom-module id="bbx-dashboard-panel" assetpath="../../bower_components/bbx-dashboard/"><template><style include="iron-flex iron-flex-alignment iron-flex-factors bbx-dashboard-style">:host{position:relative;box-sizing:border-box;display:inline-block;-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto;padding:10px;@apply (--bbx-dashboard-panel);}:host([edit-mode]){transition:all 360ms;backface-visibility:hidden}:host([edit-mode]):before{content:'';margin:0;padding:0;position:absolute;z-index:-1;top:0;left:0;right:0;bottom:0;transition:all 360ms;backface-visibility:hidden;outline:1px dashed var(--primary-color)}:host([edit-mode]:active),:host([edit-mode]:focus),:host([edit-mode]:hover),:host([edit-mode]:hover) .toolbar{box-shadow:0 0 5px var(--primary-color);@apply (--bbx-dashboard-panel-active);}:host([edit-mode]:hover) .toolbar{top:-42px;right:auto;left:0}:host([edit-mode][draggable=true]) .content{opacity:.3}:host([edit-mode]).sortable-chosen{box-shadow:0 0 20px var(--primary-color)}:host([edit-mode]).sortable-chosen:before{border:1px dashed var(--primary-color)}.component{overflow:hidden;@apply (--bbx-dashboard-panel-component);}:host([editable][edit-mode]) .widget-container:hover .widget-remove-btn{visibility:visible;opacity:1;transform:scale(1)}.widget-container{position:relative;padding:0;margin:10px;border:0;outline:0;margin-bottom:10px;transition:all 360ms}.widget-remove-btn{visibility:hidden;opacity:0;transform:scale(2);position:absolute;top:3px;right:3px;z-index:198;transition:all 360ms;border:var(--bbx-dashboard-panel-remove-btn-border,thin solid #fff);background:var(--bbx-dashboard-panel-remove-btn-bg,--primary-color);color:var(--bbx-dashboard-panel-remove-btn-color,#fff);@apply (--bbx-dashboard-panel-widgets-remove-btn);}.resize-handler{position:absolute;bottom:0;right:0;width:16px;height:16px;z-index:10;cursor:col-resize;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAUVBMVEUAAACqqqr+/v4vLy/6+vr+/v7+/v4AAABzc3Nvb2////+2trbJycnr6+vPz891dXVzc3OhoaF3d3eioqJ9fX2goKC+vr5/f3/Ly8t8fHz+/v4NyOEeAAAAG3RSTlMAjgtAaEpbR3wQA3dyanYndRN+L4g2mjByeR/NwbV+AAAARklEQVR4XmMgDTAzokqwM7KgybMxockzoctziqLJc/ChynNws6LK87ByEZLnF4DLCwoB5YVFeMECYkB5cQmgfkleKQYiAADT4wJh2XodKgAAAABJRU5ErkJggg==")}.width-indicator{display:none;position:absolute;top:0;left:0;right:0 bottom:0;width:100%;height:100%;z-index:5;background:var(--dark-theme-background-color);opacity:.7;text-align:center;vertical-align:middle;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;@apply (--bbx-dashboard-panel-width-indicator);}.width-indicator .value-container{position:relative;top:50%;transform:translateY(-50%)}.width-indicator .value-container .value{display:inline-block;height:80px;width:80px;line-height:80px;-moz-border-radius:40px;border-radius:40px;background-color:var(--dark-theme-background-color);border:thin solid var(--dark-theme-base-color);color:var(--dark-theme-base-color);text-align:center;font-size:2em;@apply (--bbx-dashboard-panel-width-indicator-value);}@media screen and (min-width:320px) and (max-width:640px){:host{width:100%!important;min-width:100%!important;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.resize-handler{display:none!important}}@media screen and (min-width:412px) and (max-width:730px){:host{width:100%!important;min-width:100%!important;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.resize-handler{display:none!important}}@media screen and (min-width:731px) and (max-width:1024px){:host{width:50%!important;min-width:50%!important;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.resize-handler{display:none!important}}</style><div class="toolbar"><div class="controls layout horizontal wrap"><paper-icon-button class="drag-handler" icon="icons:open-with" tabindex="-1"></paper-icon-button><paper-icon-button icon="icons:add-box" on-tap="_onAddListener" hidden$="{{!editable}}" tabindex="-1"></paper-icon-button><paper-icon-button icon="icons:delete" on-tap="selfRemove" hidden$="{{!removable}}" tabindex="-1"></paper-icon-button></div></div><bbx-dashboard-widget-selector id="selector" model="{{model}}" language="{{language}}"></bbx-dashboard-widget-selector><div id$="{{uid}}" class="panel component"><div id="widthIndicator" class="width-indicator"><div class="value-container"><span class="value">{{__fixedNumber(width)}}</span></div></div><div class="main"><div id="content" class="widgets-content content layout vertical"><spinner-backdrop loading="{{loading}}"></spinner-backdrop></div></div></div><div id="resize-handler" class="resize-handler"></div></template><script>Polymer({is:"bbx-dashboard-panel",behaviors:[BBX.Dashboard.CommonBehavior],properties:{width:{type:Number,value:33.33333333},resizable:{type:Boolean,value:!1},removable:{type:Boolean,value:!1,reflectToAttribute:!0},sortable:{type:Object,value:{handle:!1,draggable:".widget-draggable",container:".widgets-content",speed:"360"}},widgets:{type:Array,value:[]}},observers:["_editModeChanged(editMode)","_sizeChanged(width)","_resizableChanged(resizable,editMode)"],listeners:{"widget-selected":"_onSelectWidgetListener"},ready:function(){this.loading=!0},getDefinition:function(){for(var e,t,i,n={width:this.width,resizable:this.resizable,removable:this.removable,editable:this.editable,widgets:[]},s=0;s<this.tracks.length;s++)if(e=this.tracks[s]){for(var a in t=JSON.parse(JSON.stringify(e.params)),i=e.flatten,t)i.indexOf(a)<0&&delete t[a];n.widgets.push({name:e.name,params:t})}return n},getWidgetsSelector:function(){return this.querySelector("#selector")},addWidget:function(e){return this.loading=!0,this._doAddWidget({name:e})().then(function(e){return this.set("loading",!1),e}.bind(this),function(e){return this.set("loading",!1),e}.bind(this))},addWidgets:function(e){var t=e.length,i=[];this.loading=!0;for(var n=0;n<t;n++)i.push(this._doAddWidget({name:e[n].name,params:e[n].params}));return i.reduce(function(e,t){return e.then(t)},Promise.resolve()).then(function(e){return this.set("loading",!1),e}.bind(this),function(e){return this.set("loading",!1),e}.bind(this))},_doAddWidget:function(h){return function(){if(!h.hasOwnProperty("name"))throw new Error("Can not create a widget without a name");if(!this.model.hasOwnProperty(h.name))throw new Error("Widget ("+h.name+") does not have a definition");if(!this.model[h.name].hasOwnProperty("type"))throw new Error("Widget ("+h.name+") does not declare its type");var o=this.model[h.name];return this.set("model."+h.name+".loaded",!1),new Promise(function(d,t){this.importHref(o.type,function(e){var t=o.type.slice(o.type.lastIndexOf("/")+1),i=t.substring(0,t.indexOf("."));h.parent=this,h.editMode=this.editMode,h.editable=this.editable,h.model=this.model,h.language=this.language,h.tracks=[],o.hasOwnProperty("label")&&(h.lable=o.label),o.hasOwnProperty("desc")&&(h.desc=o.desc),o.hasOwnProperty("icon")&&(h.icon=o.icon),o.hasOwnProperty("reflectParamChanges")&&(h.reflectParamChanges=o.reflectParamChanges),o.hasOwnProperty("flatten")&&(h.flatten=o.flatten),o.hasOwnProperty("trans")&&(h.trans=o.trans);var n=this.extend(JSON.parse(JSON.stringify(o.params||{})),h.params||{});delete h.params;var s=this.create(i,h);s.classList.add("widget"),s.set("params",this.extend(JSON.parse(JSON.stringify(s.params)),n)),this.set("model."+h.name+".label",o.label||s.label),this.set("model."+h.name+".desc",o.desc||s.desc),this.set("model."+h.name+".icon",o.icon||s.icon),this.set("model."+h.name+".reflectParamChanges",o.reflectParamChanges||s.reflectParamChanges),this.set("model."+h.name+".flatten",o.flatten||s.flatten),this.set("model."+h.name+".trans",o.trans||s.trans);var a=this.create("paper-icon-button",{icon:"delete"});a.classList.add("widget-remove-btn"),a.setAttribute("tabindex",-1),a.addEventListener("tap",function(e){for(var t=0;t<this.tracks.length;t++)if(this.tracks[t]&&this.tracks[t].getAttribute("uid")&&this.tracks[t].uid===s.uid){this.tracks.splice(t,1),this.$.content.removeChild(r);break}}.bind(this));var r=this.create("div");r.classList.add("widget-draggable"),r.classList.add("widget-container"),r.appendChild(a),r.appendChild(s),this.scopeSubtree(r,!0),this.$.content.appendChild(r),this.tracks.push(s),this.set("model."+h.name+".loaded",!0),d(s)}.bind(this),function(e){console.error(e),t(error)})}.bind(this))}.bind(this)},_onSelectWidgetListener:function(e){this.getWidgetsSelector().close(),this.addWidget(e.detail.name)},_onAddListener:function(e){this.getWidgetsSelector().open()},_sizeChanged:function(e){this.style.width=this.__fixedNumber(e)+"%"},_resizableChanged:function(e,t){if(!e||!t)return this.$$("#resize-handler").hidden=!0;var i,n,s,a,r,d=function(e){if(s=window.getComputedStyle(this,null).getPropertyValue("min-width").slice(0,-2),e.clientX<Number(s))return!1;a=e.clientX/this.parent.offsetWidth*100;var t=n+a-i;this.width=100<t?100:t}.bind(this),o=function(e){this.parent.removeEventListener("mousemove",d,!1),this.parent.removeEventListener("mouseup",o,!1),this.sortableInstance.option("disabled",r),this.$.widthIndicator.style.display="none"}.bind(this),h=function(e){this.getWidgetsSelector().close(),this.$.widthIndicator.style.display="block",this.sortableInstance.option("disabled",!0),i=e.clientX/this.parent.offsetWidth*100,n=this.width,this.parent.addEventListener("mousemove",d,!1),this.parent.addEventListener("mouseup",o,!1)}.bind(this);this.$$("#resize-handler").hidden=!1,r=this.sortableInstance.option("disabled"),this.$$("#resize-handler").removeEventListener("mousedown",h),this.$$("#resize-handler").addEventListener("mousedown",h,!1)},_editModeChanged:function(e){!1===e&&this.getWidgetsSelector().close()},__fixedNumber:function(e){return Number(e).toFixed(1)}});</script></dom-module><dom-module id="bbx-dashboard" assetpath="../../bower_components/bbx-dashboard/"><template><style include="bbx-dashboard-style">:host{padding:0;transition:outline 360ms,border-bottom 360ms,box-shadow 360ms;@apply (--bbx-dashboard);}:host([edit-mode]):before{content:'';margin:0;padding:0;position:absolute;z-index:-1;top:0;left:0;right:0;bottom:0;transition:all 360ms;backface-visibility:hidden;outline:1px dashed var(--primary-color)}:host([edit-mode]){border-bottom:0 none}.content{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-ms-flex-line-pack:distribute;align-content:space-around;min-width:100%;max-width:100%;width:100%;@apply (--bbx-dashboard-component);}.toolbar{top:-40px;right:0}</style><div class="toolbar"><div class="controls layout horizontal end-justified"><slot></slot><paper-icon-button icon="icons:add-box" on-tap="addPanel" hidden$="{{!editable}}" tabindex="-1"></paper-icon-button><paper-icon-button icon="icons:lock" on-tap="save" tabindex="-1"></paper-icon-button></div></div><div id$="{{uid}}" class="dashboard component layout vertical"><div class="flex"><div id="content" class="content"></div></div></div></template><script>Polymer({is:"bbx-dashboard",behaviors:[BBX.Dashboard.CommonBehavior],listeners:{"model-changed":"_onModelChangeListener"},ready:function(){this.loading=!0},addPanel:function(e){this.loading=!0;var t=this._doAddPanel(e);return t[1].then(function(e){return this.set("loading",!1),t[0]}.bind(this),function(e){return this.set("loading",!1),e}.bind(this))},addPanels:function(e){var t,i,s=[],n=[],r=e.length;this.loading=!0;for(var a=0;a<r;a++)t=e[a],i=this._doAddPanel({width:t.hasOwnProperty("width")?t.width:33.33,editable:!t.hasOwnProperty("editable")||t.editable,resizable:!t.hasOwnProperty("resizable")||t.resizable,removable:!t.hasOwnProperty("removable")||t.removable,widgets:t.hasOwnProperty("widgets")?t.widgets:[]}),s.push(i[0]),n.push(i[1]);return Promise.all(n).then(function(){return this.set("loading",!1),s}.bind(this),function(e){return this.set("loading",!1),e}.bind(this))},getWidgets:function(e,t){for(var i=this.tracks.length,s=[];i--;)this.tracks[i]&&(widgets=this.tracks[i].getComponentsBy(e,t),s=s.concat(widgets));return s},toJson:function(){for(var e=[],t=0;t<this.tracks.length;t++)this.tracks[t]&&e.push(this.tracks[t].getDefinition());return JSON.stringify(e)},save:function(e){this.editMode=!1,this.debounce(this.uid+"save",function(){this.fire("save",{dashboard:this,json:this.toJson()})}.bind(this),this.debounceDuration)},reset:function(){this.tracks=[],this.$.content.innerHTML="",this.fire("reset",this)},_doAddPanel:function(e){(e=e||{}).parent=this,e.editMode=this.editMode,e.model=this.model,e.tracks=[],e.language=this.language,e.resizable=!e.hasOwnProperty("resizable")||e.resizable,e.editable=!e.hasOwnProperty("editable")||e.editable,e.removable=!e.hasOwnProperty("removable")||e.removable;var t=this.create("bbx-dashboard-panel",e);t.classList.add("draggable"),this.$.content.appendChild(t),this.tracks.push(t);var i=e.widgets?e.widgets:[];return[t,t.addWidgets(i)]},_onModelChangeListener:function(e){var t,i=e.detail.path;if(!i)return!1;if((t=i.indexOf("."))<0)return!1;for(var s=i.substring(t+1),n=s.substring(s.indexOf(".")+1),r=s.substring(0,s.indexOf(".")),a=this.getWidgets("name",r),d=a.length;d--;)a[d].set(n,e.detail.value)}});</script></dom-module><link rel="import" href="../app-theme/app-theme.html"><script>!function(f){"use strict";f.DashboardFactroy=function(){},f.DashboardFactroy.prototype={constructor:f.DashboardFactroy,build:function(a,e){if(!Array.isArray(a))return!1;for(var t,r,o,n=Array(),c=0;c<a.length;c++)t=a[c],"function"!=typeof this[o="_"+(r=a[c].TYPE.toLowerCase())+"Model"]||-1<["0000000001","0000000002","0000000003"].indexOf(t.CHARTID)?console.warn("The widget type ["+r+"]("+t.TITLE+") can not be handled"):n["w"+t.CHARTID]=this[o](t,e);return n},_counterModel:function(a,e){var t={},r={},o={background:"#2196F3",color:"#fff",Scale:f.Config.i18n.numberFormat.maximumFractionDigits};if(a.hasOwnProperty("OPTIONS")){for(var n in t=a.OPTIONS)r[n.toLowerCase()]=t[n];r=BBX.Dashboard.CommonBehaviorImpl.extend(o,r)}else r=o;var c=a.TITLE?a.TITLE:"",i=a.ICON?a.ICON:"",l=a.DESC?a.DESC:"",d=!!a.DATAID&&a.DATAID,s=a.FILTER||{};return{label:c,desc:c,icon:i,type:"src/app-counter-widget/app-counter-widget.html",reflectParamChanges:!0,params:{id:a.CHARTID,color:r.color,background:r.background,text:c,trans:BBX.Dashboard.CommonBehaviorImpl.extend({fallback:{text:c,label:c,desc:l}},r.trans),bc:a.SOURCEBC,dataID:d,scale:r.scale,filter:e,_filter:s},flatten:[]}},_cardModel:function(a,e){var t=a.TITLE?a.TITLE:"",r=a.ICON?a.ICON:"",o=a.DESC?a.DESC:"",n=a.FILTER||{},c=a.OPTIONS||{},i=c.image||"",l=!!a.DATAID&&a.DATAID,d=a.SOURCEBC||[];return{label:t,desc:t,icon:r,type:"src/app-card-widget/app-card-widget.html",reflectParamChanges:!0,params:{id:a.CHARTID,image:i,header:t,text:o,trans:{fallback:{header:t,text:o,label:t,desc:o}},bc:d,dataID:l,scale:c.Scale||f.Config.i18n.numberFormat.maximumFractionDigits,featuredButton:c.featuredButton||{},buttons:c.buttons,filter:e,_filter:n},flatten:[]}}}}(window.App=window.App||{});</script></div><dom-module id="index-view"><template><style include="app-theme app-shared-style">:host{--spinner-backdrop-overlay-color:#f5f5f5;--bbx-dashboard-panel:{min-height:400px};}.container{margin:50px 5% 70px 5%}</style><app-header-layout fullbleed="" has-scrolling-region=""><app-header fixed="" shadow=""><app-toolbar id="toolbar"><div main-title=""><app-toolbar-logo>{{__('view-index.dashboard')}}</app-toolbar-logo></div><cp-relations-filter id="relation" language="{{language}}" language-name="{{languageName}}" filter="{{relationFilter}}" show-all=""></cp-relations-filter><app-language-switcher language="{{language}}" language-name="{{languageName}}" languages="{{languages}}"></app-language-switcher><template is="dom-if" if="[[config.enableObjectsSearch]]"><cp-objects-search filter="[[relationFilter]]"></cp-objects-search></template><cp-usermenu language="{{language}}" languages="{{languages}}"></cp-usermenu></app-toolbar></app-header><div class="container"><bbx-dashboard id="dashboard" model="{{model}}" editable="true" edit-mode="{{editMode}}" language="{{language}}" on-save="_onSaveStateListener"></bbx-dashboard></div></app-header-layout><paper-fab-menu icon="icons:apps" position="vertical"><template is="dom-if" if="{{config.dashboard.editable}}"><paper-fab-menu-item id="toggleDashboardIcon" label="{{__('view-index.editDashboardTooltip')}}" icon="icons:lock-outline" on-tap="_toggleEditMode"></paper-fab-menu-item></template><paper-fab-menu-item label=" {{__('clearCache')}}" icon="icons:cached" on-tap="refresh"></paper-fab-menu-item></paper-fab-menu></template><script>Polymer({is:"index-view",behaviors:[BBX.SignalsBehavior,App.LocalizeBehavior,App.DrawerBehavior,App.ConfigBehavior],properties:{topic:{type:String,value:"index-view"},editMode:{type:Boolean,value:!1},model:{type:Object,value:{}}},listeners:{"cp-realtions-filter-selected":"_onRelationsFilterListener"},ready:function(){this._setupModel().then(function(){return this._setupDashboard()}.bind(this))},refresh:function(){this.publish("refresh")},_setupModel:function(){var e=this.create("iron-request");return e.send({url:App.Config.api.base+App.Config.api.endpoints.Widget,handleAs:"json"}),e.completes.then(function(){var i=new App.DashboardFactroy,s=e.response;return this.$.relation.getFilter().then(function(e){var t=i.build(s,e);return t.header={label:this.__("view-index.headerWidget.name"),desc:this.__("view-index.headerWidget.desc"),type:"bower_components/bbx-header-widget/bbx-header-widget.html",reflectParamChanges:!1,params:{title:this.__("view-index.headerWidget.title"),trans:{fallback:{title:""}}},flatten:["title","trans"]},this.set("model",t),Promise.resolve(t)}.bind(this))}.bind(this))},_setupDashboard:function(){return App.Config.get("DBO","dashboard","",!1).then(function(e){return this.$.dashboard.addPanels(e)}.bind(this))},_saveState:function(e,t){var i=Polymer.dom(this.root).querySelector("#toggleDashboardIcon");return i&&(this.editMode=t,i.set("icon",t?"icons:lock-outline":"icons:lock")),App.Config.set("DBO","dashboard",e)},_toggleEditMode:function(e){return this.config.dashboard.editable?this._saveState(this.$.dashboard.toJson(),!this.editMode):Promise.reject("dashboard edit mode is disabled")},_onSaveStateListener:function(e){return this._saveState(e.detail.json,!1)},_onRelationsFilterListener:function(e){for(var t in this.closeDrawer(),this.model)this.set("model."+t+".params.filter",e.detail);return this._saveState(this.$.dashboard.toJson())}});</script></dom-module></body></html>